<!-- BEGIN_TF_DOCS -->
## Descriptions

Terraform module for the creation of a Application Gateway.

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.8.2, < 2.0.0 |
| <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) | >= 3.103.1, < 4.0.0 |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_monitor_diagnostic_settings"></a> [monitor\_diagnostic\_settings](#module\_monitor\_diagnostic\_settings) | ../azurerm_monitor_diagnostic_setting | n/a |

## Resources

| Name | Type |
|------|------|
| [azurerm_application_gateway.app_gateway](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/application_gateway) | resource |
| [azurerm_public_ip.public_ip](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/public_ip) | resource |
| [azurerm_network_ddos_protection_plan.ddos](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/data-sources/network_ddos_protection_plan) | data source |



## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_autoscale_configuration"></a> [autoscale\_configuration](#input\_autoscale\_configuration) | A autoscale\_configuration block as defined below:<pre>[<br>    {<br>        min_capacity = number - (Required) Minimum capacity for autoscaling. Accepted values are in the range 0 to 100.<br>        max_capacity = number - (Optional) Maximum capacity for autoscaling. Accepted values are in the range 2 to 125.<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as `null`. | <pre>object({<br>    min_capacity = number<br>    max_capacity = number<br>  })</pre> | `null` | no |
| <a name="input_backend_address_pool"></a> [backend\_address\_pool](#input\_backend\_address\_pool) | One or more backend\_address\_pool blocks as per below:<pre>[<br>    {<br>        name         = string       - (Required) The name of the Backend Address Pool.<br>        fqdns        = list(string) - (Required) A list of FQDN's which should be part of the Backend Address Pool.<br>        ip_addresses = list(string) - (Optional) A list of IP Addresses which should be part of the Backend Address Pool.<br>    }<br>]</pre>**NOTE1**: If a property isn't required then it must be explicitly set as an empty list or `null`.<br><br>**NOTE2**: There is a bug where fqdns cannot be empty when it is an optional parameter on the terraform docs. A pull request has been submitted and approved [here](https://github.com/hashicorp/terraform-provider-azurerm/pull/14685). Until then `fqdns` is required. | <pre>list(object({<br>    name         = string<br>    fqdns        = list(string)<br>    ip_addresses = list(string)<br>  }))</pre> | n/a | yes |
| <a name="input_backend_http_settings"></a> [backend\_http\_settings](#input\_backend\_http\_settings) | One or more backend\_http\_settings blocks as per below:<pre>[<br>    {<br>        cookie_based_affinity               = string       - (Required) Is Cookie-Based Affinity enabled? Possible values are Enabled and Disabled.<br>        affinity_cookie_name                = string       - (Optional) The name of the affinity cookie.<br>        name                                = string       - (Required) The name of the Backend HTTP Settings Collection.<br>        path                                = string       - (Optional) The Path which should be used as a prefix for all HTTP requests.<br>        port                                = number       - (Required) The port which should be used for this Backend HTTP Settings Collection.<br>        probe_name                          = string       - (Optional) The name of an associated HTTP Probe.<br>        protocol                            = string       - (Required) The Protocol which should be used. Possible values are Http and Https.<br>        request_timeout                     = number       - (Required) The request timeout in seconds, which must be between 1 and 86400 seconds.<br>        host_name                           = string       - (Optional) Host header to be sent to the backend servers. Cannot be set if pick_host_name_from_backend_address is set to true.<br>        pick_host_name_from_backend_address = bool         - (Optional) Whether host header should be picked from the host name of the backend server. Defaults to false.<br>        trusted_root_certificate_names      = list(string) - (Optional) A list of trusted_root_certificate names.<br><br>        authentication_certificate = [ // (Optional) One or more authentication_certificate blocks.<br>            {<br>                name = string - (Required) The name of the Authentication Certificate.<br>            }   <br>        ]<br><br>        connection_draining = [ // (Optional) A connection_draining block as defined below.<br>            {<br>                enabled           = bool   - (Required) If connection draining is enabled or not.<br>                drain_timeout_sec = number - (Required) The number of seconds connection draining is active. Acceptable values are from 1 second to 3600 seconds.<br>            }<br>        ]<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as an empty list or `null`. | <pre>list(object({<br>    cookie_based_affinity               = string<br>    affinity_cookie_name                = string<br>    name                                = string<br>    path                                = string<br>    port                                = number<br>    probe_name                          = string<br>    protocol                            = string<br>    request_timeout                     = number<br>    host_name                           = string<br>    pick_host_name_from_backend_address = bool<br>    trusted_root_certificate_names      = list(string)<br><br>    authentication_certificate = list(object({<br>      name = string<br>    }))<br><br>    connection_draining = object({<br>      enabled           = bool<br>      drain_timeout_sec = number<br>    })<br>  }))</pre> | n/a | yes |
| <a name="input_custom_error_configuration"></a> [custom\_error\_configuration](#input\_custom\_error\_configuration) | One or more custom\_error\_configuration blocks as defined below:<pre>[<br>    {<br>        status_code           = string - (Required) Status code of the application gateway customer error. Possible values are HttpStatus403 and HttpStatus502<br>        custom_error_page_url = string - (Required) Error page URL of the application gateway customer error.<br>    }<br>]</pre> | <pre>list(object({<br>    status_code           = string<br>    custom_error_page_url = string<br>  }))</pre> | `[]` | no |
| <a name="input_ddos_protection_mode"></a> [ddos\_protection\_mode](#input\_ddos\_protection\_mode) | ddos\_protection\_mode to use in the name of the ddos protection plan in Public IP, if enabled. | `string` | `"Enabled"` | no |
| <a name="input_ddos_protection_plan_name"></a> [ddos\_protection\_plan\_name](#input\_ddos\_protection\_plan\_name) | Enable/disable DDoS Protection Plan on the VNET. This will also create a DDoS Plan if enabled. | `string` | `null` | no |
| <a name="input_ddos_protection_plan_resource_group_name"></a> [ddos\_protection\_plan\_resource\_group\_name](#input\_ddos\_protection\_plan\_resource\_group\_name) | The separator character to use in the name of the ddos protection plan, if enabled. | `string` | `null` | no |
| <a name="input_enable_diagnostic_settings"></a> [enable\_diagnostic\_settings](#input\_enable\_diagnostic\_settings) | Enable Diagnostic Settings. | `bool` | `false` | no |
| <a name="input_enable_http2"></a> [enable\_http2](#input\_enable\_http2) | Is HTTP2 enabled on the application gateway resource? | `bool` | `false` | no |
| <a name="input_firewall_policy_id"></a> [firewall\_policy\_id](#input\_firewall\_policy\_id) | The ID of the Web Application Firewall Policy. | `string` | `null` | no |
| <a name="input_frontend_ip_configuration"></a> [frontend\_ip\_configuration](#input\_frontend\_ip\_configuration) | One or more frontend\_ip\_configuration blocks as defined below:<pre>[<br>    {<br>        name                            = string - (Required) The name of the Frontend IP Configuration.<br>        subnet_id                       = string - (Optional) The ID of the Subnet.<br>        private_ip_address              = string - (Optional) The Private IP Address to use for the Application Gateway.<br>        public_ip_address_id            = string - (Optional) The ID of a Public IP Address which the Application Gateway should use. The allocation method for the Public IP Address depends on the sku of this Application Gateway. Please refer to the [Azure documentation for public IP addresses](https://docs.microsoft.com/en-us/azure/virtual-network/public-ip-addresses#application-gateways) for details.<br>        private_ip_address_allocation   = string - (Optional) The Allocation Method for the Private IP Address. Possible values are Dynamic and Static.<br>        private_link_configuration_name = string - (Optional) The name of the private link configuration to use for this frontend IP configuration.<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as an empty list or `null`. | <pre>list(object({<br>    name = string<br>    #subnet_id                       = string<br>    subnet_name                     = string<br>    private_ip_address              = string<br>    public_ip_address_id            = string<br>    private_ip_address_allocation   = string<br>    private_link_configuration_name = string<br>  }))</pre> | n/a | yes |
| <a name="input_frontend_port"></a> [frontend\_port](#input\_frontend\_port) | One or more frontend\_port blocks as defined below:<pre>[<br>    {<br>        name = string - (Required) The name of the Frontend Port.<br>        port = number - (Required) The port used for this Frontend Port.<br>    }<br>]</pre> | <pre>list(object({<br>    name = string<br>    port = number<br>  }))</pre> | n/a | yes |
| <a name="input_gateway_ip_configuration"></a> [gateway\_ip\_configuration](#input\_gateway\_ip\_configuration) | One or more gateway\_ip\_configuration blocks as defined below:<pre>[<br>    {<br>        name      = string - (Required) The Name of this Gateway IP Configuration.<br>        subnet_id = string - (Required) The ID of the Subnet which the Application Gateway should be connected to.<br>    }<br>]</pre> | <pre>list(object({<br>    name = string<br>    #subnet_id = string<br>    subnet_name = string<br>  }))</pre> | n/a | yes |
| <a name="input_http_listener"></a> [http\_listener](#input\_http\_listener) | One or more http\_listener blocks as defined below:<pre>[<br>    {<br>        name                           = string       - (Required) The Name of the HTTP Listener.<br>        frontend_ip_configuration_name = string       - (Required) The Name of the Frontend IP Configuration used for this HTTP Listener.<br>        frontend_port_name             = string       - (Required) The Name of the Frontend Port use for this HTTP Listener.<br>        host_name                      = string       - (Optional) The Hostname which should be used for this HTTP Listener. Setting this value changes Listener Type to 'Multi site'.<br>        host_names                     = list(string) - (Optional) A list of Hostname(s) should be used for this HTTP Listener. It allows special wildcard characters.<br>        protocol                       = string       - (Required) The Protocol to use for this HTTP Listener. Possible values are Http and Https.<br>        require_sni                    = bool         - (Optional) Should Server Name Indication be Required? Defaults to false.<br>        ssl_certificate_name           = string       - (Optional) The name of the associated SSL Certificate which should be used for this HTTP Listener.<br>        firewall_policy_id             = string       - (Optional) The ID of the Web Application Firewall Policy which should be used for this HTTP Listener.<br>        ssl_profile_name               = string       - (Optional) The name of the associated SSL Profile which should be used for this HTTP Listener.<br><br>        custom_error_configuration = [<br>            {<br>                status_code           = string - (Required) Status code of the application gateway customer error. Possible values are HttpStatus403 and HttpStatus502.<br>                custom_error_page_url = string - (Required) Error page URL of the application gateway customer error.<br>            }<br>        ]<br>    }<br>]</pre>**NOTE1**: If a property isn't required then it must be explicitly set as an empty list or `null`.<br><br>**NOTE2**: The host\_names and host\_name are mutually exclusive and cannot both be set. | <pre>list(object({<br>    name                           = string<br>    frontend_ip_configuration_name = string<br>    frontend_port_name             = string<br>    host_name                      = string<br>    host_names                     = list(string)<br>    protocol                       = string<br>    require_sni                    = bool<br>    ssl_certificate_name           = string<br>    firewall_policy_id             = string<br>    ssl_profile_name               = string<br><br>    custom_error_configuration = list(object({<br>      status_code           = string<br>      custom_error_page_url = string<br>    }))<br>  }))</pre> | n/a | yes |
| <a name="input_identity_ids"></a> [identity\_ids](#input\_identity\_ids) | User Assigned Identities IDs to add to App Gateway. Mandatory if type is UserAssigned. | `list(string)` | `null` | no |
| <a name="input_identity_type"></a> [identity\_type](#input\_identity\_type) | Add an Identity (MSI) to the App Gateway. Possible values are SystemAssigned or UserAssigned. | `string` | `"SystemAssigned"` | no |
| <a name="input_location"></a> [location](#input\_location) | The Azure region where the Application Gateway should exist. Changing this forces a new resource to be created. | `string` | n/a | yes |
| <a name="input_log_analytics_workspace_id"></a> [log\_analytics\_workspace\_id](#input\_log\_analytics\_workspace\_id) | The ID of the Log Analytics Workspace to send Diagnostic to. | `string` | `null` | no |
| <a name="input_name"></a> [name](#input\_name) | The name of the Application Gateway. Changing this forces a new resource to be created. | `string` | n/a | yes |
| <a name="input_probe"></a> [probe](#input\_probe) | One or more probe blocks as defined below:<pre>[<br>    {<br>        host                                      = string - (Optional) The Hostname used for this Probe. If the Application Gateway is configured for a single site, by default the Host name should be specified as 127.0.0.1, unless otherwise configured in custom probe. Cannot be set if pick_host_name_from_backend_http_settings is set to true.<br>        interval                                  = number - (Required) The Interval between two consecutive probes in seconds. Possible values range from 1 second to a maximum of 86,400 seconds.<br>        name                                      = string - (Required) The Name of the Probe.<br>        protocol                                  = string - (Required) The Protocol used for this Probe. Possible values are Http and Https.<br>        path                                      = string - (Required) The Path used for this Probe.<br>        timeout                                   = number - (Required) The Timeout used for this Probe, which indicates when a probe becomes unhealthy. Possible values range from 1 second to a maximum of 86,400 seconds.<br>        unhealthy_threshold                       = number - (Required) The Unhealthy Threshold for this Probe, which indicates the amount of retries which should be attempted before a node is deemed unhealthy. Possible values are from 1 - 20 seconds.<br>        port                                      = number - (Optional) Custom port which will be used for probing the backend servers. The valid value ranges from 1 to 65535. In case not set, port from http settings will be used. This property is valid for Standard_v2 and WAF_v2 only.<br>        pick_host_name_from_backend_http_settings = bool   - (Optional) Whether the host header should be picked from the backend http settings. Defaults to false.<br>        minimum_servers                           = number - (Optional) The minimum number of servers that are always marked as healthy. Defaults to 0.<br><br>        match = { // (Optional) A match block as defined below.<br>            body        = string - (Optional) A snippet from the Response Body which must be present in the Response.<br>            status_code = list(string) - (Optional) A list of allowed status codes for this Health Probe.<br>        }<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as an empty list or `null`. | <pre>list(object({<br>    host                                      = string<br>    interval                                  = number<br>    name                                      = string<br>    protocol                                  = string<br>    path                                      = string<br>    timeout                                   = number<br>    unhealthy_threshold                       = number<br>    port                                      = number<br>    pick_host_name_from_backend_http_settings = bool<br>    minimum_servers                           = number<br><br>    match = object({<br>      body        = string<br>      status_code = list(string)<br>    })<br>  }))</pre> | `[]` | no |
| <a name="input_public_ip_allocation_method"></a> [public\_ip\_allocation\_method](#input\_public\_ip\_allocation\_method) | The Azure region where the public IP should be Static or Dynamic. | `string` | n/a | yes |
| <a name="input_public_ip_name"></a> [public\_ip\_name](#input\_public\_ip\_name) | The Azure region where the public IP Name which we use for Application gateway front end. | `string` | n/a | yes |
| <a name="input_public_ip_sku"></a> [public\_ip\_sku](#input\_public\_ip\_sku) | The Azure region where the public IP should be Basic or Standard. | `string` | n/a | yes |
| <a name="input_redirect_configuration"></a> [redirect\_configuration](#input\_redirect\_configuration) | One or more redirect\_configuration blocks as defined below:<pre>[<br>    {<br>        name                 = string - (Required) Unique name of the redirect configuration block.<br>        redirect_type        = string - (Required) The type of redirect. Possible values are Permanent, Temporary, Found and SeeOther.<br>        target_listener_name = string - (Optional) The name of the listener to redirect to. Cannot be set if target_url is set.<br>        target_url           = string - (Optional) The Url to redirect the request to. Cannot be set if target_listener_name is set.<br>        include_path         = bool   - (Optional) Whether or not to include the path in the redirected Url. Defaults to false.<br>        include_query_string = bool   - (Optional) Whether or not to include the query string in the redirected Url. Default to false.<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as `null`. | <pre>list(object({<br>    name                 = string<br>    redirect_type        = string<br>    target_listener_name = string<br>    target_url           = string<br>    include_path         = bool<br>    include_query_string = bool<br>  }))</pre> | `[]` | no |
| <a name="input_request_routing_rule"></a> [request\_routing\_rule](#input\_request\_routing\_rule) | One or more request\_routing\_rule blocks as defined below:<pre>[<br>    {<br>        name                        = string - (Required) The Name of this Request Routing Rule.<br>        rule_type                   = string - (Required) The Type of Routing that should be used for this Rule. Possible values are Basic and PathBasedRouting.<br>        http_listener_name          = string - (Required) The Name of the HTTP Listener which should be used for this Routing Rule.<br>        backend_address_pool_name   = string - (Optional) The Name of the Backend Address Pool which should be used for this Routing Rule. Cannot be set if redirect_configuration_name is set.<br>        backend_http_settings_name  = string - (Optional) The Name of the Backend HTTP Settings Collection which should be used for this Routing Rule. Cannot be set if redirect_configuration_name is set.<br>        redirect_configuration_name = string - (Optional) The Name of the Redirect Configuration which should be used for this Routing Rule. Cannot be set if either backend_address_pool_name or backend_http_settings_name is set.<br>        rewrite_rule_set_name       = string - (Optional) The Name of the Rewrite Rule Set which should be used for this Routing Rule. Only valid for v2 SKUs.<br>        url_path_map_name           = string - (Optional) The Name of the URL Path Map which should be associated with this Routing Rule.<br>        priority                    = number - (Optional) Rule evaluation order can be dictated by specifying an integer value from 1 to 20000 with 1 being the highest priority and 20000 being the lowest priority.<br>    }<br>]</pre>**NOTE1**: If a property isn't required then it must be explicitly set as an empty list or `null`.<br><br>**NOTE2**: `backend_address_pool_name`, `backend_http_settings_name`, `redirect_configuration_name`, and `rewrite_rule_set_name` are applicable only when `rule_type` is `Basic`.<br><br>**NOTE3**: If you wish to use rule `priority`, you will have to specify rule-priority field values for all the existing request routing rules. Once the rule priority field is in use, any new routing rule that is created would also need to have a rule priority field value as part of its config. | <pre>list(object({<br>    name                        = string<br>    rule_type                   = string<br>    http_listener_name          = string<br>    backend_address_pool_name   = string<br>    backend_http_settings_name  = string<br>    redirect_configuration_name = string<br>    rewrite_rule_set_name       = string<br>    url_path_map_name           = string<br>    priority                    = number<br>  }))</pre> | n/a | yes |
| <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name) | The name of the resource group in which to the Application Gateway should exist. Changing this forces a new resource to be created. | `string` | n/a | yes |
| <a name="input_rewrite_rule_set"></a> [rewrite\_rule\_set](#input\_rewrite\_rule\_set) | <pre>[<br>    {<br>        name = string - (Required) Unique name of the rewrite rule set block.<br><br>        rewrite_rule = [ // (Required) One or more rewrite_rule blocks as defined below.<br>            {<br>                name          = string - (Required) Unique name of the rewrite rule block.<br>                rule_sequence = number - (Required) Rule sequence of the rewrite rule that determines the order of execution in a set.<br><br>                condition = [ // (Optional) One or more condition blocks as defined below.<br>                    {<br>                        variable    = string - (Required) The variable of the condition.<br>                        pattern     = string - (Required) The pattern, either fixed string or regular expression, that evaluates the truthfulness of the condition.<br>                        ignore_case = bool   - (Optional) Perform a case in-sensitive comparison. Defaults to false.<br>                        negate      = bool   - (Optional) Negate the result of the condition evaluation. Defaults to false.<br>                    }<br>                ]<br><br>                request_header_configuration = [ // (Optional) One or more request_header_configuration blocks as defined below.<br>                    {<br>                        header_name  = string - (Required) Header name of the header configuration.<br>                        header_value = string - (Required) Header value of the header configuration. To delete a request header set this property to an empty string.<br>                    }<br>                ]<br><br>                response_header_configuration = [ // (Optional) One or more response_header_configuration blocks as defined below.<br>                    {<br>                        header_name  = string - (Required) Header name of the header configuration.<br>                        header_value = string - (Required) Header value of the header configuration. To delete a response header set this property to an empty string.<br>                    }<br>                ]<br><br>                url = { // (Optional) One url block as defined below.<br>                    path         = string - (Optional) The URL path to rewrite.<br>                    query_string = string - (Optional) The query string to rewrite. One or both of path and query_string must be specified.<br>                    reroute      = bool   - (Optional) Whether the URL path map should be reevaluated after this rewrite has been applied. [More info on rewrite configuration](https://docs.microsoft.com/en-us/azure/application-gateway/rewrite-http-headers-url#rewrite-configuration).<br>                }<br>            }<br>        ]<br>    }<br>]</pre> | <pre>list(object({<br>    name = string<br><br>    rewrite_rule = list(object({<br>      name          = string<br>      rule_sequence = number<br><br>      condition = list(object({<br>        variable    = string<br>        pattern     = string<br>        ignore_case = bool<br>        negate      = bool<br>      }))<br><br>      request_header_configuration = list(object({<br>        header_name  = string<br>        header_value = string<br>      }))<br><br>      response_header_configuration = list(object({<br>        header_name  = string<br>        header_value = string<br>      }))<br><br>      url = object({<br>        path         = string<br>        query_string = string<br>        reroute      = bool<br>      })<br>    }))<br>  }))</pre> | `[]` | no |
| <a name="input_sku"></a> [sku](#input\_sku) | A sku block supports the following:<pre>{<br>    name     = string - (Required) The Name of the SKU to use for this Application Gateway. Possible values are Standard_Small, Standard_Medium, Standard_Large, Standard_v2, WAF_Medium, WAF_Large, and WAF_v2.<br>    tier     = string - (Required) The Tier of the SKU to use for this Application Gateway. Possible values are Standard, Standard_v2, WAF and WAF_v2.<br>    capacity = number - (Required) The Capacity of the SKU to use for this Application Gateway. When using a V1 SKU this value must be between 1 and 32, and 1 to 125 for a V2 SKU. This property is optional if autoscale_configuration is set.<br>}</pre> | <pre>object({<br>    name     = string<br>    tier     = string<br>    capacity = number<br>  })</pre> | n/a | yes |
| <a name="input_ssl_certificate"></a> [ssl\_certificate](#input\_ssl\_certificate) | One or more ssl\_certificate blocks as defined below:<pre>[<br>    {<br>        name                = string - (Required) The Name of the SSL certificate that is unique within this Application Gateway<br>        data                = string - (Optional) PFX certificate. Required if key_vault_secret_id is not set.<br>        password            = string - (Optional) Password for the pfx file specified in data. Required if data is set.<br>        key_vault_secret_id = string - (Optional) Secret Id of (base-64 encoded unencrypted pfx) Secret or Certificate object stored in Azure KeyVault. You need to enable soft delete for keyvault to use this feature. Required if data is not set.<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as `null`. | <pre>list(object({<br>    name                = string<br>    data                = string<br>    password            = string<br>    key_vault_secret_id = string<br>  }))</pre> | `[]` | no |
| <a name="input_ssl_policy"></a> [ssl\_policy](#input\_ssl\_policy) | A ssl policy block as defined below:<pre>{<br>    disabled_protocols   = list(string) - (Optional) A list of SSL Protocols which should be disabled on this Application Gateway. This field cannot be set when policy_name or policy_type are set. Possible values are TLSv1_0, TLSv1_1 and TLSv1_2.<br>    policy_type          = string       - (Optional) The Type of the Policy. This is Required when policy_name is set and cannot be set if disabled_protocols is set. Possible values are Predefined and Custom.<br>    policy_name          = string       - (Optional) The Name of the Policy e.g AppGwSslPolicy20170401S. Required if policy_type is set to Predefined. Possible values can change over time and are published [here](https://docs.microsoft.com/en-us/azure/application-gateway/application-gateway-ssl-policy-overview). Not compatible with disabled_protocols.<br>    cipher_suites        = list(string) - (Optional) A List of accepted cipher suites. This is only available when policy_type is set to Custom. Possible values are: TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA256 and TLS_RSA_WITH_AES_256_GCM_SHA384.<br>    min_protocol_version = string       - (Optional) The minimal TLS version. This is only available when policy_type is set to Custom. Possible values are TLSv1_0, TLSv1_1 and TLSv1_2.<br>}</pre>**NOTE**: If a property isn't required then it must be explicitly set as an empty list or `null`. | <pre>object({<br>    disabled_protocols   = list(string)<br>    policy_type          = string<br>    policy_name          = string<br>    cipher_suites        = list(string)<br>    min_protocol_version = string<br>  })</pre> | `null` | no |
| <a name="input_subnet_info"></a> [subnet\_info](#input\_subnet\_info) | A mapping of subnet\_id and subnet\_name from subnet module outputs | `map(string)` | `null` | no |
| <a name="input_tags"></a> [tags](#input\_tags) | A mapping of tags to assign to the resource. | `map(string)` | `{}` | no |
| <a name="input_trusted_root_certificate"></a> [trusted\_root\_certificate](#input\_trusted\_root\_certificate) | One or more trusted\_root\_certificate blocks as defined below:<pre>[<br>    {<br>        name = string - (Required) The Name of the Trusted Root Certificate to use.<br>        data = string - (Required) The contents of the Trusted Root Certificate which should be used.<br>    }<br>]</pre> | <pre>list(object({<br>    name = string<br>    data = string<br>  }))</pre> | `[]` | no |
| <a name="input_url_path_map"></a> [url\_path\_map](#input\_url\_path\_map) | One or more url\_path\_map blocks as defined below:<pre>[<br>    {<br>        name                                = string - (Required) The Name of the URL Path Map.<br>        default_backend_address_pool_name   = string - (Optional) The Name of the Default Backend Address Pool which should be used for this URL Path Map. Cannot be set if default_redirect_configuration_name is set.<br>        default_backend_http_settings_name  = string - (Optional) The Name of the Default Backend HTTP Settings Collection which should be used for this URL Path Map. Cannot be set if default_redirect_configuration_name is set.<br>        default_redirect_configuration_name = string - (Optional) The Name of the Default Redirect Configuration which should be used for this URL Path Map. Cannot be set if either default_backend_address_pool_name or default_backend_http_settings_name is set.<br>        default_rewrite_rule_set_name       = string - (Optional) The Name of the Default Rewrite Rule Set which should be used for this URL Path Map. Only valid for v2 SKUs.<br><br>        path_rule = [ // (Required) One or more path_rule blocks as defined below.<br>            {<br>                name                        = string - (Required) The Name of the Path Rule.<br>                paths                       = string - (Required) A list of Paths used in this Path Rule.<br>                backend_address_pool_name   = string - (Optional) The Name of the Backend Address Pool to use for this Path Rule. Cannot be set if redirect_configuration_name is set.<br>                backend_http_settings_name  = string - (Optional) The Name of the Backend HTTP Settings Collection to use for this Path Rule. Cannot be set if redirect_configuration_name is set.<br>                redirect_configuration_name = string - (Optional) The Name of a Redirect Configuration to use for this Path Rule. Cannot be set if backend_address_pool_name or backend_http_settings_name is set.<br>                rewrite_rule_set_name       = string - (Optional) The Name of the Rewrite Rule Set which should be used for this URL Path Map. Only valid for v2 SKUs.<br>                firewall_policy_id          = string - (Optional) The ID of the Web Application Firewall Policy which should be used as a HTTP Listener.<br>            }<br>        ]<br>    }<br>]</pre>**NOTE**: If a property isn't required then it must be explicitly set as `null`. | <pre>list(object({<br>    name                                = string<br>    default_backend_address_pool_name   = string<br>    default_backend_http_settings_name  = string<br>    default_redirect_configuration_name = string<br>    default_rewrite_rule_set_name       = string<br><br>    path_rule = list(object({<br>      name                        = string<br>      paths                       = list(string)<br>      backend_address_pool_name   = string<br>      backend_http_settings_name  = string<br>      redirect_configuration_name = string<br>      rewrite_rule_set_name       = string<br>      firewall_policy_id          = string<br>    }))<br>  }))</pre> | `[]` | no |
| <a name="input_waf_configuration"></a> [waf\_configuration](#input\_waf\_configuration) | A waf\_configuration block as defined below:<pre>{<br>    enabled                  = bool         - (Required) Is the Web Application Firewall be enabled?<br>    firewall_mode            = string       - (Required) The Web Application Firewall Mode. Possible values are Detection and Prevention.<br>    rule_set_type            = string       - (Required) The Type of the Rule Set used for this Web Application Firewall. Currently, only OWASP is supported.<br>    rule_set_version         = string       - (Required) The Version of the Rule Set used for this Web Application Firewall. Possible values are 2.2.9, 3.0, and 3.1.<br>    file_upload_limit_mb     = number       - (Optional) The File Upload Limit in MB. Accepted values are in the range 1MB to 750MB for the WAF_v2 SKU, and 1MB to 500MB for all other SKUs. Defaults to 100MB.<br>    request_body_check       = bool         - (Optional) Is Request Body Inspection enabled? Defaults to true.<br>    max_request_body_size_kb = number       - (Optional) The Maximum Request Body Size in KB. Accepted values are in the range 1KB to 128KB. Defaults to 128KB.<br><br>    disabled_rule_group [ // (Optional) one or more disabled_rule_group blocks as defined below.<br>        {<br>            rule_group_name = string       - (Required) The rule group where specific rules should be disabled. Accepted values are: crs_20_protocol_violations, crs_21_protocol_anomalies, crs_23_request_limits, crs_30_http_policy, crs_35_bad_robots, crs_40_generic_attacks, crs_41_sql_injection_attacks, crs_41_xss_attacks, crs_42_tight_security, crs_45_trojans, General, REQUEST-911-METHOD-ENFORCEMENT, REQUEST-913-SCANNER-DETECTION, REQUEST-920-PROTOCOL-ENFORCEMENT, REQUEST-921-PROTOCOL-ATTACK, REQUEST-930-APPLICATION-ATTACK-LFI, REQUEST-931-APPLICATION-ATTACK-RFI, REQUEST-932-APPLICATION-ATTACK-RCE, REQUEST-933-APPLICATION-ATTACK-PHP, REQUEST-941-APPLICATION-ATTACK-XSS, REQUEST-942-APPLICATION-ATTACK-SQLI, REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION<br>            rules           = list(string) - (Optional) A list of rules which should be disabled in that group. Disables all rules in the specified group if rules is not specified.<br>        }<br>    ]<br><br>    exclusion = [<br>        {<br>            match_variable          = string - (Required) Match variable of the exclusion rule to exclude header, cookie or GET arguments. Possible values are RequestHeaderNames, RequestArgNames and RequestCookieNames.<br>            selector_match_operator = string - (Optional) Operator which will be used to search in the variable content. Possible values are Equals, StartsWith, EndsWith, Contains. If empty will exclude all traffic on this match_variable.<br>            selector                = string - (Optional) String value which will be used for the filter operation. If empty will exclude all traffic on this match_variable.<br>        }<br>    ]<br>}</pre>**NOTE**: If a property isn't required then it must be explicitly set as an empty list or `null`. | <pre>object({<br>    enabled                  = bool<br>    firewall_mode            = string<br>    rule_set_type            = string<br>    rule_set_version         = string<br>    file_upload_limit_mb     = number<br>    request_body_check       = bool<br>    max_request_body_size_kb = number<br><br>    disabled_rule_group = list(object({<br>      rule_group_name = string<br>      rules           = list(string)<br>    }))<br><br>    exclusion = list(object({<br>      match_variable          = string<br>      selector_match_operator = string<br>      selector                = string<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_zones"></a> [zones](#input\_zones) | A collection of availability zones to spread the Application Gateway over. | `list(string)` | `[]` | no |

## Outputs

No outputs.

## Example
<!-- END_TF_DOCS -->